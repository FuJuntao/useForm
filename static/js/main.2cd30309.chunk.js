(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{65:function(e,t){},66:function(e,t,r){"use strict";var a=r(21),n=r.n(a),i=r(38),c=r(25),u=r(0),o=r(71),l=r(133),s=r(132),d=r(58),f=r(39),v="SET_VALUE",b="SET_ERROR",p="SET_VALIDATE_STATUS";function m(e,t){switch(t.type){case v:var r=t.id,a=t.value;return Object(c.a)({},e,Object(f.a)({},r,Object(c.a)({},e[r],{value:a})));case b:var n=t.id,i=t.error;return Object(c.a)({},e,Object(f.a)({},n,Object(c.a)({},e[n],{error:i})));case p:var u=t.id,o=t.validateStatus;return Object(c.a)({},e,Object(f.a)({},u,Object(c.a)({},e[u],{validateStatus:o})));default:return e}}function g(e){if(!e||!e.target)return e;var t=e.target;return"checkbox"===t.type?t.checked:t.value}var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(u.useMemo)(function(){return function(e){var t={};return Object.entries(e).forEach(function(e){var r=Object(d.a)(e,2),a=r[0],n=r[1].initialValue,i=void 0===n?"":n;t[a]={value:i,error:"",validateStatus:"none"}}),t}(e)},[e]),r=Object(u.useMemo)(function(){return function(e){var t={};return Object.entries(e).forEach(function(e){var r=Object(d.a)(e,2),a=r[0],n=r[1],i=n.validator,c=void 0===i?function(){}:i,u=n.validateTriggers,o=void 0===u?["onChange"]:u,l=n.getValueFromEvent,s=void 0===l?g:l,f=n.collectValueTrigger,v=void 0===f?"onChange":f;t[a]={getValueFromEvent:s,collectValueTrigger:v,validator:c,validateTriggers:"string"===typeof o?[o]:o}}),t}(e)},[e]),a=Object(u.useReducer)(m,t),n=Object(d.a)(a,2);return{formState:n[0],strictOptions:r,dispatch:n[1]}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=O(e),r=t.formState,a=t.strictOptions,d=t.dispatch,f=Object(u.useMemo)(function(){return Object.keys(e)},[e]),v=Object(u.useCallback)(function(e){return"string"===typeof e?[e]:"undefined"===typeof e?f:e},[f]),b=Object(u.useCallback)(function(e,t){d({type:"SET_VALUE",id:e,value:t})},[d]),p=Object(u.useCallback)(function(e,t){d({type:"SET_ERROR",id:e,error:t||""})},[d]),m=Object(u.useCallback)(function(e,t){d({type:"SET_VALIDATE_STATUS",id:e,validateStatus:t})},[d]),g=Object(u.useCallback)(function(e,t){t.pipe(Object(s.a)(function(t){var r=a[e].validator;return m(e,"validating"),p(e,""),Object(o.a)(Promise.resolve(r(t)))})).subscribe(function(t){p(e,t||""),m(e,t?"error":"success")})},[p,m,a]),j=Object(u.useCallback)(function(e){var t=a[e],r=t.collectValueTrigger,n=t.getValueFromEvent,i=t.validateTriggers,c={};i.forEach(function(t){if(t&&t!==r){var a=new l.a;c[t]=function(e){var t=n(e);a.next(t)},g(e,a)}});var u=new l.a;return i.includes(r)?(c[r]=function(t){var r=n(t);b(e,r),u.next(r)},g(e,u)):(u.unsubscribe(),c[r]=function(t){var r=n(t);b(e,r)}),c},[b,a,g]),h=Object(u.useCallback)(function(e){return r[e].value},[r]),E=Object(u.useCallback)(function(e){var t=v(e),r={};return t.forEach(function(e){r[e]=h(e)}),r},[h,v]),k=Object(u.useCallback)(function(e){return r[e].error},[r]),w=Object(u.useCallback)(function(e){var t=v(e),r={},a=!0;return t.forEach(function(e){var t=k(e);t&&(a=!1),r[e]={error:t}}),a?null:r},[k,v]),T=Object(u.useCallback)(function(e){var t=Object(u.useMemo)(function(){return j(e)},[e]);return Object(c.a)({value:h(e)},t)},[j,h]),x=Object(u.useCallback)(function(e){return r[e].validateStatus},[r]),y=Object(u.useCallback)(function(){var e=Object(i.a)(n.a.mark(function e(t){var i,c,u,o,l,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r[t],c=i.value,u=i.error,o=i.validateStatus,l=a[t].validator,"none"===o||!u){e.next=6;break}return e.abrupt("return",!1);case 6:return m(t,"validating"),p(t,""),e.next=10,l(c);case 10:return s=e.sent,p(t,s),m(t,s?"error":"success"),e.abrupt("return",!s);case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[r,a,m,p]),C=Object(u.useCallback)(function(){var e=Object(i.a)(n.a.mark(function e(t){var r,a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=v(t),e.next=3,Promise.all(r.map(function(e){return y(e)}));case 3:return a=e.sent,e.abrupt("return",!a.some(function(e){return!e}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[v,y]);return{setFeildValue:b,setFeildError:p,useFeildProps:T,getFeildValue:h,getFeildsValue:E,getFeildError:k,getFeildsError:w,getFeildValidateStatus:x,validateFeilds:C}}},67:function(e,t,r){"use strict";var a=r(66);r.d(t,"useForm",function(){return a.a});r(65)},74:function(e,t,r){e.exports=r(93)},93:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),i=r(9),c=r.n(i),u=r(21),o=r.n(u),l=r(38),s=r(94),d=r(125),f=r(126),v=r(130),b=r(131),p=r(67),m=/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/;function g(e,t){return new Promise(function(r){setTimeout(function(){r(t)},e)})}var O=Object(s.a)({background:{height:"100vh",width:"100wh",background:"linear-gradient(to right, #232526, #414345)",display:"flex",justifyContent:"center",alignItems:"center"},paper:{minWidth:500,padding:50},form:{display:"grid",gap:"30px"},validatingWrap:{display:"flex",alignItems:"center","& > span":{marginRight:4}}});function j(){var e=O().validatingWrap;return n.a.createElement("div",{className:e},n.a.createElement("span",null,"\u6821\u9a8c\u4e2d"),n.a.createElement(d.a,{size:12}))}var h=function(e){var t=e.mobile,r=Object(a.useMemo)(function(){return{mobile:{initialValue:t,validator:function(){var e=Object(l.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","\u8bf7\u8f93\u5165\u624b\u673a\u53f7");case 2:return e.next=4,g(2e3*(Math.random()+1));case 4:if(m.test(t)){e.next=6;break}return e.abrupt("return","\u624b\u673a\u53f7\u683c\u5f0f\u4e0d\u6b63\u786e");case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),validateTriggers:["onBlur","onChange"]},password:{validator:function(e){if(!e)return"\u8bf7\u8f93\u5165\u5bc6\u7801"},validateTriggers:"onChange"}}},[t]),i=Object(p.useForm)(r),c=i.useFeildProps,u=i.getFeildValidateStatus,s=i.getFeildError,d=i.validateFeilds,h=i.getFeildsValue;function E(){return(E=Object(l.a)(o.a.mark(function e(t){var r,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,d();case 3:r=e.sent,console.log("\u8868\u5355\u6821\u9a8c\u662f\u5426\u901a\u8fc7\uff1a".concat(r)),r&&(a=h(),console.log("\u8868\u5355\u503c\uff1a",a));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var k=O();return n.a.createElement("div",{className:k.background},n.a.createElement(f.a,{className:k.paper},n.a.createElement("form",{className:k.form},n.a.createElement(v.a,Object.assign({label:"mobile"},c("mobile"),{error:!!s("mobile"),FormHelperTextProps:{component:"div"},helperText:"validating"===u("mobile")?n.a.createElement(j,null):s("mobile"),variant:"outlined",fullWidth:!0})),n.a.createElement(v.a,Object.assign({label:"password"},c("password"),{error:!!s("password"),helperText:s("password"),variant:"outlined",fullWidth:!0})),n.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(e){return E.apply(this,arguments)}},"submit"))))},E=r(70),k=r(129),w=r(128),T=Object(E.a)({}),x=function(){return n.a.createElement(w.a,{theme:T},n.a.createElement(k.a,null),n.a.createElement(h,{mobile:"123456"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[74,1,2]]]);
//# sourceMappingURL=main.2cd30309.chunk.js.map